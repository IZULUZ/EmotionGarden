<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Emotion Garden - ê´€ë¦¬ì</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=DungGeunMo&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        .admin-container { padding: 40px; background: var(--bg); min-height: 100vh; width: 100%; }
        .student-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; }
        .st-card { padding: 15px; text-align: center; border: 4px solid var(--brown); background: white; cursor: pointer; }
        .st-card.active { background: #ffeb3b; box-shadow: 0 0 15px #ffeb3b; border-color: #f57f17; } /* ì´ë¦„ì— ë¶ˆ ë“¤ì–´ì˜´ */
        .request-box { margin-top: 40px; padding: 20px; border: 6px solid var(--brown); background: #fff8e1; }
        .req-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 2px dashed #ccc; }
        .approve-btn { background: #4caf50; color: white; border: none; padding: 5px 10px; cursor: pointer; }
        .reject-btn { background: #f44336; color: white; border: none; padding: 5px 10px; cursor: pointer; margin-left: 5px; }
    </style>
</head>
<body>
    <div class="admin-container">
        <h1 class="pixel-font">ğŸŒ± ì •ì› ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ (í•™ìƒ 23ëª…)</h1>
        
        <div id="st-grid" class="student-grid"></div>

        <div class="request-box">
            <h2 class="pixel-font">ğŸ“© ë‹¤í–ˆì–´ìš”! ìš”ì²­í•¨</h2>
            <div id="req-list" class="pixel-font">ìš”ì²­ì´ ì—†ìŠµë‹ˆë‹¤.</div>
        </div>
        
        <button onclick="location.href='index.html'" class="pixel-btn" style="margin-top:20px;">í•™ìƒ í™”ë©´ìœ¼ë¡œ</button>
    </div>

    <script>
        // Firebase ì„¤ì • (ìƒëµ - index.htmlê³¼ ë™ì¼í•˜ê²Œ ë„£ìœ¼ì„¸ìš”)
        const firebaseConfig = { ... }; 
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        const firstNames = ["ê¹€", "ì´", "ë°•", "ìµœ", "ì •", "ê°•"];
        const midNames = ["ë¯¼", "ì§€", "ì„œ", "ë„", "ì˜ˆ", "í•˜"];
        const lastNames = ["ì¤€", "ì•„", "ìœ¤", "í˜„", "ìš°", "ì€"];

        // í•™ìƒ 23ëª… ëœë¤ ìƒì„± ë° í‘œì‹œ
        const grid = document.getElementById('st-grid');
        for(let i=1; i<=23; i++) {
            const name = firstNames[Math.floor(Math.random()*6)] + midNames[Math.floor(Math.random()*6)] + lastNames[Math.floor(Math.random()*6)];
            const div = document.createElement('div');
            div.className = 'st-card pixel-font';
            div.id = `st-${i}`;
            div.innerHTML = `<span>${name}</span><br><small>í•™ìƒ ${i}</small>`;
            div.onclick = () => alert(`${name} í•™ìƒì˜ ê°ì •: ğŸŒ± í‰ì˜¨í•¨\nìˆ˜í–‰ ì¤‘ í€˜ìŠ¤íŠ¸: ì¹œêµ¬ì—ê²Œ ì¸ì‚¬í•˜ê¸°`);
            grid.appendChild(div);
        }

        // ì‹¤ì‹œê°„ ìš”ì²­ ì²˜ë¦¬ (ê°€ìƒ ë°ì´í„° ì˜ˆì‹œ)
        function updateRequests() {
            const reqList = document.getElementById('req-list');
            reqList.innerHTML = `
                <div class="req-item">
                    <span>[í•™ìƒ 3] ì¹œêµ¬ì—ê²Œ ì¸ì‚¬í•˜ê¸° ì™„ë£Œ!</span>
                    <div>
                        <button class="approve-btn" onclick="approve(3)">ìŠ¹ì¸</button>
                        <button class="reject-btn" onclick="reject(3)">ê±°ì ˆ</button>
                    </div>
                </div>
            `;
            document.getElementById('st-3').classList.add('active'); // í•™ìƒ 3ë²ˆ ì´ë¦„ì— ë¶ˆ ì¼œê¸°
        }
        setTimeout(updateRequests, 2000);

        function approve(id) { alert('ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. í¬ì¸íŠ¸ 10Gë¥¼ ì§€ê¸‰í•©ë‹ˆë‹¤.'); document.getElementById(`st-${id}`).classList.remove('active'); }
        function reject(id) { alert('ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•˜ë„ë¡ ì•ˆë‚´í•©ë‹ˆë‹¤.'); document.getElementById(`st-${id}`).classList.remove('active'); }
    </script>
</body>
</html>
